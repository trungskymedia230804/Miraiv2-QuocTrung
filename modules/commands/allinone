module.exports.config = {
  name: "allinone",
  version: "1.0.1",
  hasPermssion: 0,
  credits: "nvh",
  description: "Pháº£n há»“i video tá»« keyword",
  commandCategory: "KhÃ¡c",
  usages: "",
  cooldowns: 5,
  usePrefix: true,
};

module.exports.handleEvent = async function ({ api, event }) {
  const { body, threadID, messageID } = event;
  if (!body) return;

  const key = body.toLowerCase().trim();

  // Kiá»ƒm tra tá»« khÃ³a vÃ  gá»­i video tÆ°Æ¡ng á»©ng
  try {
    let attachment = null;

    if (key === "anime" && typeof vdanime !== "undefined")
      attachment = vdanime.splice(0, 1);
    else if (key === "cos" && typeof vdcos !== "undefined")
      attachment = vdcos.splice(0, 1);
    else if (key === "gÃ¡i" && typeof vdgai !== "undefined")
      attachment = vdgai.splice(0, 1);
    else if (key === "trai" && typeof vdtrai !== "undefined")
      attachment = vdtrai.splice(0, 1);
    else if (key === "chill" && typeof vdchill !== "undefined")
      attachment = vdchill.splice(0, 1);
    else if (key === "nhac" && typeof vdnhac !== "undefined")
      attachment = vdnhac.splice(0, 1);
    else if (key === "sad" && typeof vdsad !== "undefined")
      attachment = vdsad.splice(0, 1);
    else return;

    if (!attachment || attachment.length === 0)
      return api.sendMessage("âš ï¸ KhÃ´ng cÃ²n video Ä‘á»ƒ gá»­i!", threadID, messageID);

    await api.sendMessage({
      body: `ðŸŽ¬ Video ${key} cá»§a bÃ© Ä‘Ã¢y ðŸ’¢`,
      attachment
    }, threadID, messageID);

  } catch (err) {
    console.error("Lá»—i gá»­i video:", err);
    api.sendMessage("âŒ Gá»­i video tháº¥t báº¡i.", threadID, messageID);
  }
};

module.exports.run = () => {};